<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="author" content="Yusong Shen">
	<title>Ricebook Simple Page : Homework 01</title>
</head>
<body>

<h1>Ricebook</h1>

<img src="rice-logo.jpg" width="400px" title="Rice logo" alt="Image Missing">

<form action="formProcessor.html" id="userForm">
	<p>Account Name<br>
	<input type="text" name="account_name" placeholder="your account name" required><br>
	<p>Display Name (Optional)<br>
	<input type="text" name="display_name" placeholder="your display name"><br>  
	<p>Email Address<br>
	<input type="text" name="email" placeholder="name@example.com" required><br>
	<p>Phone Number<br>
	<input type="text" name="phone" placeholder="123-123-1234" required><br>
	<p>Date of Birth<br>
	<input type="text" name="date_of_birth" placeholder="01/01/1970" required><br>
	<p>Zipcode <br>
	<input type="text" name="zipcode" placeholder="77005" required><br>
	<p>Password <br>
	<input type="password" name="password" required><br>
	<p>Password Confirmation <br>
	<input type="password" name="password_confirmation" required><br>

	<br>
	<p><input type="hidden" name="timestamp" id="timestamp" value=""></p>
	<input type="submit" name="submit" onclick="return isValidated(this.parent)">
	<input type="reset" name="clear" >
</form>
<br>

<script>
	function isValidated(form) {
		// incase the argument is missing
		if (!form) {
			form = document.getElementById("userForm");
		}
		// console.log(form);
		var alertMsg = "";
		// validate by regular expression
		// 123-123-1234
		var phoneRe = /^\d{3}[-]\d{3}[-]\d{4}$/;
		var emailRe = /[^\s@]+@[^\s@]+\.[^\s@]+/;
		// Account name can only be upper or lower case letters and numbers, 
		// but may not start with a number
		var accountRe = /^[a-zA-Z][a-zA-Z0-9]*$/;
		var zipcodeRe = /^\d{5}/;
		var phoneNumber = form.phone.value;
		var email = form.email.value;
		var account = form.account_name.value;
		// console.log(phoneNumber);
		var isPhoneValidated = true;
		var isEmailValidated = true;		
		if (phoneNumber.match(phoneRe) === null) {
			window.alert("phone number format should look like : 123-123-1234");			
			isPhoneValidated = false;
		}
		if (email.match(emailRe) === null) {
			window.alert("email format should look like : name@example.com");			
			isEmailValidated = false;
		}	
		if (account.match(accountRe) === null) {
			window.alert("Account name can only be upper or lower case letters and numbers, but may not start with a number");			
			isAccountValidated = false;
		}			
		// return (isPhoneValidated && isAddressValidated);
		return true;
	}
	// record the timestamp in millisecond when page is loaded
	function setDate() {
		document.getElementById("timestamp").value = Date.now();
	}
	setDate();
</script>


</body>
</html>